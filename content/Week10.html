<!doctype html>
<html><head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>CMSimfly</title> <link rel="stylesheet" type="text/css" href="./../static/cmsimply.css">

<script type="text/javascript" src="./../static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../static/syntaxhighlighter/shBrushCSharp.js"></script>
<link type="text/css" rel="stylesheet" href="./../static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>

<!-- for LaTeX equations 暫時不用
<script src="https://scrum-3.github.io/web/math/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>
<script type="text/javascript">
init_mathjax = function() {
    if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            },
            displayAlign: 'left', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>
-->
<!-- 暫時不用
<script src="./../static/fengari-web.js"></script>
<script type="text/javascript" src="./../static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->

<script src="./../static/jquery.js"></script>
<script type="text/javascript">
$(function(){
    $("ul.topmenu> li:has(ul) > a").append('<div class="arrow-right"></div>');
    $("ul.topmenu > li ul li:has(ul) > a").append('<div class="arrow-right"></div>');
});
</script>

</head><header><h1>2018 Fall 40623215 分組網站</h1> <confmenu>
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="sitemap.html">Site Map</a></li>
<li><a href="./../reveal/index.html">reveal</a></li>
<li><a href="./../blog/index.html">blog</a></li>

</ul>
</confmenu></header>
<div class='container'><nav><ul id='css3menu1' class='topmenu'><li><a href='簡介.html'>簡介</a><ul><li><a href='CMSimfly 網站.html'>CMSimfly 網站</a><li><a href='reveal 投影片.html'>reveal 投影片</a><li><a href='pelican 網誌.html'>pelican 網誌</a></li></ul><li><a href='課程內容.html'>課程內容</a><ul><li><a href='Week1.html'>Week1</a><li><a href='Week2.html'>Week2</a><li><a href='Week3.html'>Week3</a><li><a href='Week4.html'>Week4</a><ul><li><a href='w4 Onshape Homework.html'>w4 Onshape Homework</a><li><a href='w4 Onshape Assessment.html'>w4 Onshape Assessment</a></li></ul><li><a href='Week5.html'>Week5</a><ul><li><a href='w5 Onshape Homework.html'>w5 Onshape Homework</a><li><a href='w5 Onshape Assessment.html'>w5 Onshape Assessment</a></li></ul><li><a href='Week6.html'>Week6</a><ul><li><a href='w6 Onshape Homework.html'>w6 Onshape Homework</a><li><a href='w6 Onshape Assessment.html'>w6 Onshape Assessment</a></li></ul><li><a href='Week7.html'>Week7</a><ul><li><a href='w7 Onshape Assessment.html'>w7 Onshape Assessment</a></li></ul><li><a href='Week8.html'>Week8</a><ul><li><a href='w8 Onshape Assessment.html'>w8 Onshape Assessment</a></li></ul><li><a href='Week9.html'>Week9</a><li><a href='Week10.html'>Week10</a><li><a href='Week11.html'>Week11</a><li><a href='Week12.html'>Week12</a><li><a href='Week13.html'>Week13</a><li><a href='Week14.html'>Week14</a><li><a href='Week15.html'>Week15</a><li><a href='Week16.html'>Week16</a><li><a href='Week17.html'>Week17</a><li><a href='Week18.html'>Week18</a></li></ul><li><a href='組員操作影片.html'>組員操作影片</a><li><a href='Python 手冊.html'>Python 手冊</a><li><a href='OnShape 手冊.html'>OnShape 手冊</a><li><a href='Fusion 360.html'>Fusion 360</a></li></ul></nav><section>Week9 << <a href='Week9.html'>Previous</a> <a href='Week11.html'>Next</a> >> Week11<br /><h1>Week10</h1>
<p>Ubuntu 18.04 以 uwsgi 配置 CMSimfly<br/>配置完成的 https://da01.mde.nfu.edu.tw:8443<br/>安裝 pip3<br/>sudo apt install python3-pip<br/>安裝 Flask 與 bs4<br/>sudo pip3 install Flask bs4<br/>安裝 uwsgi 與 plugin<br/>sudo pip3 install uwsgi<br/>sudo apt install nginx uwsgi-plugin-python3<br/>編輯 /etc/nginx/sites-available/default 設定檔:<br/>server {<br/>listen [::]:80 default_server ipv6only=on;<br/>listen [::]:8443 ssl ipv6only=on;</p>
<p>location /static {<br/>alias /home/da01/cmsimfly/static/;<br/>}</p>
<p>location / {<br/>include uwsgi_params;<br/>uwsgi_pass 127.0.0.1:8080;<br/>}</p>
<p>server_name da01.mde.nfu.edu.tw;<br/>ssl_certificate /etc/nginx/ssl/localhost.crt;<br/>ssl_certificate_key /etc/nginx/ssl/localhost.key;<br/>ssl_session_timeout 5m;<br/>ssl_protocols SSLv3 TLSV1 TLSv1.1 TLSv1.2;<br/>ssl_ciphers "HIGH:!aNULL:!MD5 or HIGH:!aNULL:MD5:!3DES";<br/>ssl_prefer_server_ciphers on;<br/>try_files $uri $uri/ =404;<br/>} <br/>/home/da01/uwsgi_ini/uwsgi.ini 檔案內容:<br/>[uwsgi]<br/>socket = 127.0.0.1:8080<br/>plugins-dir = /usr/lib/uwsgi/plugins/<br/>plugin = python3<br/>processes = 4<br/>threads = 2<br/>chdir = /home/da01/cmsimfly<br/>wsgi-file = /home/da01/cmsimfly/wsgi.py<br/>/etc/rc.local 檔案內容:<br/>#!/bin/bash <br/>exec uwsgi_python36 --uid da01 --gid da01 --emperor /home/da01/uwsgi_ini<br/>exit 0<br/>/etc/rc.local 建立後, 以 sudo chmod +x /etc/rc.local 讓檔案可以在系統啟動流程中執行.<br/>/home/da01/cmsimfly/wsgi.py 檔案內容:<br/>import flaskapp<br/>application = flaskapp.app<br/>在 /etc/nginx/ssl 以下列指令建立 localhost.crt and localhost.key<br/>sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout localhost.key -out localhost.crt</p>
<p style="background-color: transparent; box-sizing: border-box; color: #24292e; font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 400; letter-spacing: normal; margin-bottom: 0px; margin-top: 0px; orphans: 2; text-align: left; text-decoration: none; text-indent: 0px; text-transform: none; -webkit-text-stroke-width: 0px; white-space: normal; word-spacing: 0px;"></p><br />Week9 << <a href='Week9.html'>Previous</a> <a href='Week11.html'>Next</a> >> Week11</section></div></body></html>